#
# Nuke
#
keys:
  # Represents the optional output name for frames written by the Shotgun Write Node
  nuke.output:
      alias: output
      type: str
      filter_by: alphanumeric

  # Maya supports two extension types.
  nuke_extension:
      type: str
      choices:
          exr: OpenEXR (.exr)
          dpx: DPX (.dpx)
      default: exr
      # alias: extension

paths:
    #
    # Shot
    #

    # define the location of a work area
    shot_work_area_nuke:
        definition: '@shot_root/work/nuke'
    # define the location of a publish area
    shot_publish_area_nuke:
        definition: '@shot_root/publish/nuke'
    # The location of WIP script files
    nuke_shot_work:
        definition: '@shot_root/work/nuke/{Shot}[_{name}]_{task_name}_v{version}[_{increment}].nk'
    # The location of backups of WIP files
    nuke_shot_snapshot:
        definition: '@shot_root/work/nuke/snapshots/{Shot}[_{name}]_{task_name}_v{version}_{increment}.nk'
    # The location of published nuke script files
    nuke_shot_publish:
        definition: '@shot_root/publish/nuke/{Shot}[_{name}]_{task_name}_v{version}.nk'
    # write node outputs
    nuke_shot_render_root:
        definition: '@shot_root/renders'
    nuke_shot_render:
        definition: '@shot_root/renders/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.{nuke_extension}'
    nuke_shot_render_pub:
        definition: '@shot_root/publish/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.{nuke_extension}'
    nuke_shot_render_mono_dpx:
        definition: '@shot_root/renders/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.dpx'
    nuke_shot_render_pub_mono_dpx:
        definition: '@shot_root/publish/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.dpx'
    nuke_shot_render_stereo:
        definition: '@shot_root/renders/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.exr'
    nuke_shot_render_pub_stereo:
        definition: '@shot_root/publish/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.exr'
    # review output
    shot_quicktime_quick:
        definition: '@shot_root/review/quickdaily/{Shot}[_{name}]_{task_name}_{iteration}.mov'
    nuke_shot_render_movie:
        definition: '@shot_root/review/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.mov'

    #
    # Asset
    #

    # define the location of a work area
    asset_work_area_nuke:
        definition: '@asset_root/work/nuke'
    # define the location of a publish area
    asset_publish_area_nuke:
        definition: '@asset_root/publish'
    # outputs from the Shotgun Write Node for assets
    nuke_asset_render:
        definition: '@asset_root/renders/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Asset}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.exr'
    nuke_asset_render_pub:
        definition: '@asset_root/publish/versions/{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}/{width}x{height}/{Asset}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{SEQ}.exr'
    # review output
    nuke_asset_render_movie:
        definition: '@asset_root/review/{Asset}[_{name}]_{task_name}[_{nuke.output}]_v{version}.mov'
    asset_quicktime_quick:
        definition: '@asset_root/review/quickdaily/{Asset}[_{name}]_{iteration}.mov'
    # The location of WIP script files
    nuke_asset_work:
        definition: '@asset_root/work/nuke/{Asset}[_{name}]_{task_name}_v{version}[_{increment}].nk.nk'
    # The location of backups of WIP files
    nuke_asset_snapshot:
        definition: '@asset_root/work/nuke/snapshots/{Asset}[_{name}]_{task_name}_v{version}[_{increment}].nk'
    # The location of published nuke script files
    nuke_asset_publish:
        definition: '@asset_root/publish/nuke/{Asset}[_{name}]_{task_name}_v{version}[_{increment}].nk.nk'
strings:

    # when a review Version in Shotgun is created inside of Nuke, this is the
    # name that is being given to it (the code field)
    nuke_shot_version_name: "{Shot}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{iteration}"
    nuke_quick_shot_version_name: "{Shot}[_{name}]_quick_{iteration}"

    nuke_asset_version_name: "{Asset}[_{name}]_{task_name}[_{nuke.output}]_v{version}.{iteration}"
    nuke_quick_asset_version_name: "{Asset}[_{name}]_quick_{iteration}"
